

.listing{
  position:relative;

  #listing-image{

    width: $section_width - 20px !important;
    height: 450px;

    padding: 10px;

    background-color:$white;
    @include box-shadow(0 1px 3px $black + #666);

    & > img{
      /*can be removed later*/
      height:448px;
      width:448px;

      border:1px solid $grey;
    }
  }

  #listing-image-next{

    height: 100px;
    margin:10px 0 15px;

/*    background-color:$white;
    @include box-shadow(0 1px 3px $black + #666);*/

    img{
      margin-right: ($section_width - 430px)/4;
      border:1px solid $grey;
    }
    img:last-child{
      margin-right:0;
    }
  }


  .status{
    float:left;
    padding:0px 5px 1px;
    margin: 0px 3px 0 0;
    font-size:13px;

    text-shadow:none;
    color:$white;
    background-color:$green;
    @include rounded(3px);
    @include box-shadow(0 1px 1px $white);

    &.accepted{
      background-color:$darkYellow;
    }
    &.sold{
      background-color:$red;
    }
  }
  .created{
    font-size:12px;
    margin-bottom:15px;
  }



  #listing-details{
    position:relative;

    width:$section_width - 20;
    height:450px;
    padding:10px;

    /*text-shadow: 0 1px 1px #fff;*/
    background-color:$white;
    @include box-shadow(0 1px 3px $black + #666);
/*    background-color:rgba($black, 0.1);
    @include box-shadow(inset 0 1px 3px $black + #666);*/

    #listing-creator{
      padding-bottom:10px;
      margin-bottom:15px;
      border-bottom:1px solid $grey;
    }

    #listing-description{
      font-size:16px;
    }
    .edit-listing{
      font-size:14px;

      form{
        display:none;

        @include dark-button($blue - #444, '.submit');

        textarea{
          display:block;
          margin: 5px 0;
          height:60px;
          width:$section_width - 35;
        }

        .cancel{
          margin:5px 5px 0 0;
          float:right;
        }
        .submit{
          float:right;
        }
      }
    }

    .bottom{
      position:absolute;
      bottom:10px;
      height:255px;
      width: $section_width - 20px;

      font-size:12px;

      #listing-loc-diff{
        font-size:12px;
        height:20px;
      }

      .map-link{
        display:block;
        position:absolute;
        top:20px;
        left:0;

        img{
          border:1px solid $grey;
        }
      }

      #listing-social{
        position:absolute;
        top:20px;
        right:0;
        height:100px;
        width:60px;

        padding-bottom:0px;
        margin-bottom:0px;
        border-bottom:0px solid $grey;

        .twitter, .fb, .goog{
          display:block;
        }
        .twitter{}
        .goog{}
        .fb{}
      }

      #listing-offerbar{
        display:block;
        position:absolute;
        top:130px;left:0;

        height:75px;

        border:1px solid $grey - #222;
        background-color:$grey;
        @include gradient($grey + #040404, $grey - #181818);
        text-shadow: 0 1px 1px #fff;

        & > div{
          float:left;
          width: (($section_width - 20px)/3) - 33px;
          height:55px;
          padding:10px;
          margin:0 5px;
          border-right:1px solid $grey - #222;

          &.left{
             margin-right:10px;
            .title, .value{
              color:$green - #111;
            }
          }
          &.middle{
            .title, .value{
              color:$blue - #111;
            }
          }
          &.right{
            float:right;
            border-right:none;
            .title, .value{
              color:$grey - #777;
            }
          }

          .title{
            font-size:18px;
            font-weight:bold;
          }
          .value{
            margin:5px 0;
            font-size:28px;
            font-weight:bold;
          }
          .details{
            font-size:16px;
          }
        }
      }


      .offer-form-wrapper{
        position:absolute;
        bottom:0px;left:0;
        z-index:2;
        width: $section_width - 20px;

        @include light-button($green);

        .offer-button{
          font-size:18px;
          padding: 8px 0 7px;
          color:$white;
          text-shadow:0 -1px 1px $black + #111;

          &:hover{
            color:$white - #111;
            text-shadow:0 -1px 1px $black;
          }
          .owner &{
            display:none;
          }
          &.open{
            @include gradient($green + #080808, $green - #080808);
            @include rounded-top();
            @include angled-bottom();
          }
        }
        .offer-form{
          display:none;

          width: $section_width - 32px;

          border:1px solid $grey - #222;
          background-color:$grey;
          @include gradient($grey, $grey - #111);
          @include box-shadow((0 1px 2px $black));
          @include dark-button($blue - #444, '.submit');
          @include angled-top();

          input{margin-bottom:5px;}

          input, .field-wrap{
            float:left;

            width:$section_width - 135px;
          }
          .submit{
            width:77px !important;
            color:$white !important;
            margin-bottom:0;
            float:right;
          }

        }
      }
    }

  }

  #listing-messages{
    position:relative;
    background-color:$lightBlue;

    h2{
      color:$white;
      text-shadow:0 -1px 1px $black;

      border-bottom:1px solid $blue - #333;
      border-top:1px solid $blue + #222;

      @include gradient($blue, $blue - #111);
    }

    .message-form{
      padding:10px;
      position:relative;

      input, .field-wrap{
        float:left;
        margin-bottom:5px;

        width:$section_width - 125px;
      }
      .submit{
        width:77px !important;
        color:$white !important;
        margin-bottom:0;
        float:right;
      }
    }


    .convo-list, .convo{
      @include dark-button($blue - #444, '.submit');
      background-color:$lightBlue;
    }

    .convo-list{

      .convo-li{
        min-height:35px;
        border:none;

        font-size:14px !important;

        background-color:$lightBlue;
        &:hover{background-color:$lightBlue - #111;}
        &.open{
          background-color:$blue + #222;
          @include gradient($blue + #333, $blue);

          & > .user{
            color:$white - #111;
            text-shadow: 0px -1px 1px $black + #333;
          }

          .inside{
            .offer{
              color:$white - #111;
              text-shadow: 0px -1px 1px $black + #333;
            }
            a{
              color:$white - #111;
              text-shadow: 0px -1px 1px $black + #333;
            }
          }
        }

        &.accepted{
          background-color:$lightGreen;

          &:hover{background-color:$lightGreen - #111;}
        }

        .inside{
          position:relative;
          margin-top:-20px;
          margin-left:40px;


          .message-preview {
            position:absolute;
            top:20px;
          }

          .offerbox{
              display:none;
              float:right;
              text-align:right;
              margin-top:-5px;

            .offer{
              font-size: 24px;
              font-weight:bold;
            }

            .accept-offer{
            }

          }
        }

        .convo{
          position:absolute;
          top:42px;left:50px;
          padding:0;
          margin-bottom:10px;
          z-index:2;
          width:$section_width - 50px;

          border:none;
          background-color:$white;
          @include angled-top();
          @include box-shadow(0 1px 3px $black + #666);

          input, .field-wrap{
            width:$section_width - 175px;
          }

          .question{

            .qa{
              display:block;
              float:left;
              margin-top:8px;
            }

            input{
              float:right;
              margin:2px 0 0;
              width:$section_width - 100px;
            }

            .field-wrap{
              margin: 2px 0 5px;
              float:right;
              width:$section_width - 70px;
            }

            .cancel{
              float:right;
              margin: 6px 5px 0 0;
            }
          }

        }
      }
    }

    .convo{

      @include box-shadow(none);

      .message{
        min-height:20px;
        position:relative;

        &.offer{
          padding-top:5px;
          padding-bottom:5px;

          background-color:$lightYellow;

          .message-body{margin-left:0;}
        }

        .actions{
          position:absolute;
          top:5px;
          right:10px;
          font-size:12px;
        }

        .creator{
          float:left;

          .avatar{
            position:absolute;
            left:-40px;
          }

          .name{
            font-size:14px !important;
          }
        }

        .created{
          float:left;
          margin:0 0 0 5px;
        }

        .message-body{
          clear:left;
          margin:0 0 0 40px;
          font-size:16px;
        }
      }
    }

  }

  #listing-inquiries{
    background-color:$lightBlue;

    .inquiry{
      .question{
        font-weight:bold;
      }
    }
  }

}

.listing-li{
  display:block;
  position:relative;
  height: 150px;
  width:300px;
  z-index:2;

  color:#444;

  background-color:$white;
  @include box-shadow(0 1px 3px $black + #666);

  &:visited{color:#444;}
  &:hover{
    @include box-shadow(0 1px 6px $black + #555);
    text-decoration:none;
  }

  .listing-image{
    position:absolute;
    left:10px;top:10px;

    height:130px;
    width: auto;

    border:1px solid $grey;
  }

  .listing-info {
    position:absolute;
    left:155px;top:10px;

    height:130px;
    width: 130px;

    font-size:12px;


    .status{
      font-size:10px;
      margin-top:1px;
    }

    .listing-desc{
      word-wrap:break-word;
    }

    .created{
      font-size:10px;
    }

    .asking {
      background-color:$grey + #111;
      padding:3px 0 3px 5px;
      color: $green - #111;
      font-weight:bold;

      .title{
        margin-bottom:2px;
      }
      .value{
        font-size:14px;
      }
    }

    .link{
      position:absolute;
      bottom:0px;
      left:0;
      color:$blue;
      &:hover{text-decoration:underline;}
    }
  }
}


#new-listing{
  position:absolute;
  top:50px;right:0;
  width:320px;
  z-index:2;

  background-color:#2E63A1;
  border-color:#00306E;
  border-top:none;
  @include angled-top();


  textarea, input[type=text], input[type=email], input[type=password], .photo-wrap{
    width:300px;
    margin:5px 5px;
  }

  .counter{
    text-align:right;
    margin-right:5px;
    margin-bottom:-5px;

    color:$white;
    font-size:12px;

    &.under{
      color:$red;
    }
  }

  .photo-wrap{
    margin-left:12px;
    color:#fff;

    .file-placeholder{
      display:block;
      float:left;
    }
  }
  input[type=file]{
    width:245px;
    float:right;
    color:#fff;
  }

  .loading{
    display:none;
    float:right;
    margin:10px 5px 0 0;

    color:$white;
  }

  @include dark-button($blue - #444, '.submit');
  .submit{
    width:77px !important;
    margin:5px 5px;
    float:right;
  }
}
